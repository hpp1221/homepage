(function($){$.fn.scrollupbar=function(){var $window=$(window),$document=$(document),$topbar=this,topbarHeight=$topbar.outerHeight(),lastY=0,revealing=false,timeout;$window.scroll(function(){var y=$window.scrollTop();if(timeout){clearTimeout(timeout)}if(y<0||y>($document.height()-$window.height())){return}if(y<lastY){if(!revealing){revealing=true;if(y>topbarHeight){$topbar.css("top",y-topbarHeight)}}if(parseInt($topbar.css("top"))>y){$topbar.css({"position":"fixed","top":0})}timeout=setTimeout(function(){if(y<parseInt($topbar.css("top"))+topbarHeight){$topbar.css({"position":"fixed","top":parseInt($topbar.css("top"))-y});$topbar.animate({"top":0},100)}},3000)}else{revealing=false;if($topbar.css("position")=="fixed"){$topbar.css({"position":"absolute","top":y})}timeout=setTimeout(function(){if(y<parseInt($topbar.css("top"))+topbarHeight){if(y>topbarHeight){$topbar.animate({"top":y-topbarHeight},100)}}},3000)}lastY=y});return this}})(jQuery);